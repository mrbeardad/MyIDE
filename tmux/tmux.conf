#æ›´æ”¹å¿«æ·é”®å‰ç¼€
unbind C-Z
unbind C-b
set -g prefix M-w

# è®¾ç½®ä¸ºviç¼–è¾‘æ¨¡å¼
setw -g mode-keys vi
# æ”¯æŒé¼ æ ‡é€‰å–æ–‡æœ¬ç­‰,é¼ æ ‡æ‹–åŠ¨è°ƒæ•´é¢æ¿çš„å¤§å°,é¼ æ ‡é€‰ä¸­å¹¶åˆ‡æ¢é¢æ¿,é¼ æ ‡é€‰ä¸­å¹¶åˆ‡æ¢çª—å£
set-option -g mouse on
# å…³é—­é»˜è®¤çª—å£æ ‡é¢˜
set -g set-titles off

# åŠŸèƒ½é”®ã€Alt+å¿«æ·é”®éƒ½ä»¥""å³<Esc>å¼€å¤´ï¼Œé»˜è®¤è¾“å…¥<Esc>æ—¶ä¼šç­‰å¾…ä»¥ç¡®å®šæ˜¯å¦è¿˜æœ‰å…¶ä»–æŒ‰é”®ä¸å…¶ç»„æˆåŠŸèƒ½é”®ï¼Œè€Œå¯¼è‡´å»¶è¿Ÿ
# é™ä½æ­¤ç­‰å¾…æ—¶é—´å¯æœ‰æ•ˆå‡å°‘<Esc>æŒ‰é”®å¯¹å»¶è¿Ÿï¼Œä½†è‹¥æ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“ä¸”<Esc>æ˜¯åŠŸèƒ½é”®çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™å¯èƒ½åº”ç½‘ç»œå»¶è¿Ÿè€Œå¯¼è‡´åŠŸèƒ½é”®å¤±æ•ˆ
# æ•…50åˆšåˆšå¥½ï¼Œä¸”vimä¹Ÿéœ€è¦è®¾ç½®ä¸€ä¸‹
set-option -g escape-time 50

# æ”¯æŒçœŸè‰²ä¸xtermæŒ‰é”®æ˜ å°„
set -g default-terminal "xterm-256color"
set -g xterm-keys on

# æ”¯æŒå“é“ƒ
# set -g monitor-bell on
# set -g bell-action any
# set-hook -g alert-bell 'run-shell "/bin/gst-play-1.0 /usr/share/sounds/freedesktop/stereo/bell.oga"'

#å¿«æ·é”®è‡ªå®šä¹‰
unbind-key M-left
unbind-key M-right
unbind-key M-down
unbind-key M-up
bind up selectp -U
bind down selectp -D
bind left selectp -L
bind right selectp -R

unbind '"'
bind s splitw -v -c '#{pane_current_path}' # æ°´å¹³åˆ‡å‰²pane

unbind '%'
bind v splitw -h -c '#{pane_current_path}' # ç«–ç›´åˆ‡å‰²pane

unbind 'r'
bind R source-file ~/.tmux.conf \; display-message "Config reloaded.." #é‡è½½é…ç½®

unbind 'b'
bind b previous-window # è·³è½¬å‰ä¸€ä¸ªwindow

unbind 't'
bind t set-option status # åˆ‡æ¢statusline

unbind-key C-Right
unbind-key C-Left
unbind-key C-up
unbind-key C-down
bind  + resizep -U 10 # ç»‘å®šä¸ºå¾€â†‘è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind  - resizep -D 10 # ç»‘å®šä¸ºå¾€â†“è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind  < resizep -L 10 # ç»‘å®šä¸ºå¾€â†è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind  > resizep -R 10 # ç»‘å®šä¸ºå¾€â†’è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind g new-window  gtop
bind h new-window  htop
bind i new-window  "sudo iotop"
bind r new-window  "ranger ~"
# bind n new-window  ncdu
bind m new-window  "cmatrix"
bind M new-window  "cmatrix -r"
bind f new-window  'sed -n "/export FZF_DEFAULT_COMMAND=/,/fi$/p" ~/.zshrc > /tmp/fzf-ranger && bash /tmp/fzf-ranger && : > /tmp/fzf-ranger'
# bind f new-window  "FZF_DEFAULT_COMMAND='ag --hidden --ignore .git -l -g \"\"' fzf "

#ç³»ç»Ÿå‰ªåˆ‡æ¿ï¼Œéœ€è¦ä¸‹è½½xclipï¼Œä¸çŸ¥é“ä¸ºå•¥åæ¥æ²¡æ³•ç”¨äº†
#bind C-V run " tmux save-buffer - | xclip -i -sel clipboard"

#æ’ä»¶ï¼šä¿å­˜ä¼šè¯
run-shell '$HOME/.config/tmux-resurrect/resurrect.tmux'
# set -g @resurrect-save 'S' # ä¿®æ”¹ä¿å­˜æŒ‡ä»¤ä¸ºS
# set -g @resurrect-restore 'R' #ä¿®æ”¹æ¢å¤æŒ‡ä»¤ä¸ºR
set -g @resurrect-dir '$HOME/.cache/tmux-resurrect' # ä¿®æ”¹ä¼šè¯æ•°æ®çš„ä¿æŒè·¯å¾„ï¼Œæ­¤å¤„ä¸èƒ½ä½¿ç”¨é™¤äº†$HOME, $HOSTNAME, ~ä¹‹å¤–çš„ç¯å¢ƒå˜é‡
setw -g aggressive-resize on
set-option -gw xterm-keys on
setw -g automatic-rename off
setw -g allow-rename off

set -g default-terminal "tmux-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"
# set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'
set -as terminal-overrides '*:Smulx=\E[4::%p1%dm,*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'
set -g base-index 1 # è®¾ç½®çª—å£çš„èµ·å§‹ä¸‹æ ‡ä¸º1
set -g pane-base-index 1 # è®¾ç½®é¢æ¿çš„èµ·å§‹ä¸‹æ ‡ä¸º1

set -g status-interval 1 # çŠ¶æ€æ åˆ·æ–°æ—¶é—´
set -g status-justify left # çŠ¶æ€æ åˆ—è¡¨å·¦å¯¹é½
setw -g monitor-activity on # éå½“å‰çª—å£æœ‰å†…å®¹æ›´æ–°æ—¶åœ¨çŠ¶æ€æ é€šçŸ¥
set -g visual-activity on

set -g status-bg black # è®¾ç½®çŠ¶æ€æ èƒŒæ™¯é»‘è‰²
set -g status-fg yellow # è®¾ç½®çŠ¶æ€æ å‰æ™¯é»„è‰²
set -g status-style "bg=black, fg=white" # çŠ¶æ€æ å‰æ™¯èƒŒæ™¯è‰²

set -g status-left "#[fg=cyan] â˜¯ #S \ue0b2" # çŠ¶æ€æ å·¦ä¾§å†…å®¹
set -g status-right '#[fg=cyan]Continuum status: #{continuum_status}' # çŠ¶æ€æ å³ä¾§å†…å®¹
set -g status-left-length 300 # çŠ¶æ€æ å·¦è¾¹é•¿åº¦300
set -g status-right-length 500 # çŠ¶æ€æ å³è¾¹é•¿åº¦500

set -wg window-status-format " #I #W " # çŠ¶æ€æ çª—å£åç§°æ ¼å¼
set -wg window-status-current-format " #I:#W#F #[fg=green]#[bg=black]\ue0b0" # çŠ¶æ€æ å½“å‰çª—å£åç§°æ ¼å¼(#Iï¼šåºå·ï¼Œ#wï¼šçª—å£åç§°ï¼Œ#Fï¼šé—´éš”ç¬¦)
set -wg window-status-separator "" # çŠ¶æ€æ çª—å£åç§°ä¹‹é—´çš„é—´éš”
set -wg window-status-current-style "fg=white, bg=green" # çŠ¶æ€æ å½“å‰çª—å£åç§°çš„æ ·å¼
set -wg window-status-last-style "fg=blue" # çŠ¶æ€æ æœ€åä¸€ä¸ªçª—å£åç§°çš„æ ·å¼

set -g message-style "bg=#202529, fg=#91A8BA" # æŒ‡å®šæ¶ˆæ¯é€šçŸ¥çš„å‰æ™¯ã€åæ™¯è‰²

set-option -g status off

